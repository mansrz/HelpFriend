{% extends "oferta_inicio.html" %}

{% block sliderPagina %}CREAR OFERTA{% endblock %}
{% block contenido %}
    <style>
        textarea { resize: none; }
    </style>
    <div class="container" ng-controller="crearOfertaFormController">
        <form  class="form-horizontal"  name="forms.crear_oferta_form1" id="crear_oferta_form1" novalidate>
        
            <div class="row col-md-12">
                <div align=right>

                    <button href="#" class="btn btn-green" id="btn_crear_oferta" ng-disabled="validar_form" ng-click="guardar()"><i class="fa fa-floppy-o"></i>&nbsp;&nbsp;Guardar&nbsp;&nbsp;</button>

                    <a href="/InicioOferta/" class="btn btn-dark"><i class="fa fa-times"></i>&nbsp;&nbsp;Cancelar&nbsp;&nbsp;</a>

                </div>
            </div>

            <div align=right>

            </div>

            <div class="row">

                <div class="col-md-4 col-md-offset-4 alert alert-dismissible" ng-class="textType" style="text-align:center; margin-top:10px;" role="alert" ng-hide="hide" ng-cloak>
                    <button id="info_crear_close" type="button" class="close" ng-click="hide=true" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <p><span class="glyphicon" ng-class="iconoClass" aria-hidden="true"></span><strong>[[ info_crear_oferta]]</strong></p>
                </div>


                <div class=" col-md-12">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#informacion" aria-controls="home" role="tab" data-toggle="tab">Informaci&oacute;n General</a></li>
                        <li role="presentation" id="prueba">
                            <a href="#cliente_usuario" aria-controls="profile" role="tab" data-toggle="tab">Cliente/Usuario</a></li>
                        <li role="presentation">
                            <a href="#modelo" aria-controls="messages" role="tab" data-toggle="tab">Modelo de Negocio</a></li>
                        <li role="presentation">
                            <a href="#industria" aria-controls="settings" role="tab" data-toggle="tab">Industria/Competidores</a></li>
                        <li role="presentation">
                            <a href="#esta_logro" aria-controls="messages" role="tab" data-toggle="tab">Estado/Logros</a></li>
                    </ul>

                    <!-- Tab panes -->

                    <div class="tab-content">

                        <div role="tabpanel" class="tab-pane active" id="informacion">
                            {% include "crear_oferta_form1.html" %}
                        </div>

                        <div role="tabpanel" class="tab-pane" id="cliente_usuario">
                            {% include "crear_oferta_form2.html" %}
                        </div>

                        <div role="tabpanel" class="tab-pane" id="modelo">
                            {% include "crear_oferta_form3.html" %}
                        </div>

                        <div role="tabpanel" class="tab-pane" id="industria">
                            {% include "crear_oferta_form4.html" %}
                        </div>

                        <div role="tabpanel" class="tab-pane" id="esta_logro">
                            {% include "crear_oferta_form5.html" %}
                        </div>


                    </div>

                </div>

            </div>
    <script>
    var oferta_copia = undefined;

    {% if oferta %}
      oferta_copia = {
          tipo:'{{oferta.tipo}}',
          descripcion:'{{ oferta.descripcion }}',
          dominio:'{{ oferta.dominio }}',
          subdominio: '{{ oferta.subdominio }}',
          perfil_cliente : '{{ oferta.perfil_cliente|default_if_none:"" }}',
          perfil_beneficiario : '{{ oferta.perfil_beneficiario|default_if_none:"" }}',
          descripcion_soluciones_existentes : '{{ oferta.descripcion_soluciones_existentes|default_if_none:"" }}',
          estado_propieada_intelectual : '{{ oferta.estado_propieada_intelectual|default_if_none:"" }}',
          evidencia_traccion : '{{ oferta.evidencia_traccion|default_if_none:"" }}',
          cuadro_tendencias_relevantes : '{{ oferta.cuadro_tendencias_relevantes|default_if_none:"" }}',
          poter_competidores : '{{ oferta.fk_diagrama_competidores.competidores|default_if_none:"" }}',
          poter_sustitutos : '{{ oferta.fk_diagrama_competidores.sustitutos|default_if_none:"" }}',
          poter_consumidores : '{{ oferta.fk_diagrama_competidores.consumidores|default_if_none:"" }}',
          poter_proveedores : '{{ oferta.fk_diagrama_competidores.proveedores|default_if_none:"" }}',
          poter_nuevosMiembros : '{{ oferta.fk_diagrama_competidores.nuevosMiembros|default_if_none:"" }}',
          canvas_asociaciones_clave : '{{ oferta.fk_diagrama_canvas.asociaciones_clave|default_if_none:"" }}',
          canvas_actividades_clave : '{{ oferta.fk_diagrama_canvas.actividades_clave|default_if_none:"" }}',
          canvas_recursos_clave : '{{ oferta.fk_diagrama_canvas.recursos_clave|default_if_none:"" }}',
          canvas_propuesta_valor : '{{ oferta.fk_diagrama_canvas.propuesta_valor|default_if_none:"" }}',
          canvas_relacion_clientes : '{{ oferta.fk_diagrama_canvas.relacion_clientes|default_if_none:"" }}',
          canvas_canales_distribucion : '{{ oferta.fk_diagrama_canvas.canales_distribucion|default_if_none:"" }}',
          canvas_segmento_mercado : '{{ oferta.fk_diagrama_canvas.segmento_mercado|default_if_none:"" }}',
          canvas_estructura_costos : '{{ oferta.fk_diagrama_canvas.estructura_costos|default_if_none:"" }}',
          canvas_fuente_ingresos :  '{{ oferta.fk_diagrama_canvas.fuente_ingresos|default_if_none:"" }}'
      };

      var tags_copia = {{ tags|safe }};

      var oferta_tiempo = {{oferta_tiempo}};
      var oferta_duracion = {{oferta_duracion}};

    {% endif %}

    </script>
    
</div>
{% endblock %}